{"ast":null,"code":"var _jsxFileName = \"D:\\\\FrontEnd\\\\React\\\\Mini Project-Ment\\\\src\\\\MyPosts.jsx\";\nimport React, { useState, useEffect } from 'react'; //import { PageHeader } from 'antd';\n\nimport MyPostsSnippet from './MyPostsSnippet';\nimport _ from 'lodash';\nimport db from './firebase'; //import { Menu } from 'antd';\n//import { MailOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\n\nimport { Router, Link } from \"@reach/router\";\n\nconst MyPosts = props => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    let userId = (props === null || props === void 0 ? void 0 : props.user.uid) ? props === null || props === void 0 ? void 0 : props.user.uid : props.uid;\n    db.collection('users').doc(userId).collection('posts').onSnapshot(async posts => {\n      let postsData = await posts.docs.map(post => {\n        let data = post.data();\n        let {\n          id\n        } = post;\n\n        if (id) {\n          let payload = {\n            id,\n            ...data\n          };\n        }\n\n        console.log(\"internal data of My post\", data, id, payload);\n        return payload;\n      });\n      setPosts(postsData);\n      console.log(\"outside data of My posts\", postsData);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"nav\", {\n    class: \"navbar navbar-expand-lg navbar-light bg-light\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 10\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"collapse navbar-collapse\",\n    id: \"navbarSupportedContent\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    class: \"navbar-nav mr-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/postapp\",\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-comment\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 62\n    }\n  }), \"Posts\")), props.user && /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/create_post\",\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-rocket\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 66\n    }\n  }), \"Create Posts\")), props.user && /*#__PURE__*/React.createElement(\"li\", {\n    class: \"nav-item\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/blogs/${props.user.uid}/posts`,\n    className: \"mr-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 26\n    }\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"fa fa-certificate\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 87\n    }\n  }), \"My Posts\"))))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page_header_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 14\n    }\n  }, \"Posts\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"articles_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 9\n    }\n  }, _.map(posts, (article, idx) =>\n  /*#__PURE__*/\n  // console.log(\"My post Snippet\",posts,article,idx)\n  React.createElement(MyPostsSnippet, {\n    key: idx,\n    id: article.id,\n    Did: article.Did //  title={_.capitalize(article.title) } \n    // content = {article.content.substring(0,1000)}\n    ,\n    user: props.user,\n    uid: props.uid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default MyPosts;","map":{"version":3,"sources":["D:/FrontEnd/React/Mini Project-Ment/src/MyPosts.jsx"],"names":["React","useState","useEffect","MyPostsSnippet","_","db","Router","Link","MyPosts","props","posts","setPosts","userId","user","uid","collection","doc","onSnapshot","postsData","docs","map","post","data","id","payload","console","log","article","idx","Did"],"mappings":"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","sourcesContent":["import React ,{useState,useEffect}from 'react'\r\n//import { PageHeader } from 'antd';\r\nimport MyPostsSnippet from './MyPostsSnippet';\r\nimport _ from 'lodash'\r\nimport db from './firebase'\r\n//import { Menu } from 'antd';\r\n//import { MailOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\r\nimport{Router,Link} from \"@reach/router\"\r\nconst MyPosts=(props)=>{\r\n    const [posts,setPosts]=useState([])\r\n    useEffect(()=>{\r\n        let userId=props?.user.uid ? props?.user.uid : props.uid\r\n        db.collection('users').doc(userId).collection('posts')\r\n            .onSnapshot(async posts => {\r\n                let postsData= await posts.docs.map(post => {\r\n                    let data = post.data()\r\n                   \r\n                    let { id }= post\r\n                   \r\n                    if (id){\r\n                    let payload={\r\n                        id,\r\n                        ...data\r\n                    } \r\n                     }\r\n                    console.log(\"internal data of My post\",data,id,payload)\r\n                    return payload\r\n                });\r\n                setPosts(postsData)\r\n                console.log(\"outside data of My posts\",postsData)\r\n            })\r\n    },[])\r\n    return(\r\n    <div className=\"posts_container\">\r\n         <nav class=\"navbar navbar-expand-lg navbar-light bg-light\">\r\n            <div class=\"collapse navbar-collapse\" id=\"navbarSupportedContent\">\r\n                <ul class=\"navbar-nav mr-auto\">\r\n                    <li class=\"nav-item\">\r\n                        <Link to=\"/postapp\" className=\"mr-3\"><i className=\"fa fa-comment\"></i>Posts</Link>\r\n                    </li>\r\n                    {props.user && \r\n                       <li class=\"nav-item\">\r\n                        <Link to=\"/create_post\" className=\"mr-3\"><i className=\"fa fa-rocket\"></i>Create Posts</Link>\r\n                       </li>\r\n\r\n                    }\r\n                     {props.user &&\r\n                       <li class=\"nav-item\">\r\n                         <Link to={`/blogs/${props.user.uid}/posts`} className=\"mr-3\"><i className=\"fa fa-certificate\"></i>My Posts</Link>\r\n                       </li>\r\n                    }\r\n                </ul>\r\n            </div>\r\n            </nav>\r\n        <div className =\"page_header_container\">\r\n            {/* <PageHeader\r\n                style={{\r\n                    border: '1px solid rgb(235, 237, 240)',\r\n                }}\r\n                title=\"Posts\"\r\n            />\r\n             */}\r\n             <h2>Posts</h2>\r\n        </div>\r\n        <div className=\"articles_container\">\r\n            {\r\n                _.map(posts,(article,idx)=>(\r\n                   // console.log(\"My post Snippet\",posts,article,idx)\r\n                    <MyPostsSnippet\r\n                     key={idx}\r\n                     id={article.id}\r\n                     Did={article.Did}\r\n                    //  title={_.capitalize(article.title) } \r\n                    // content = {article.content.substring(0,1000)}\r\n                     user={props.user}\r\n                     uid={props.uid}\r\n                     />\r\n                ))\r\n                        \r\n            }\r\n            \r\n        </div>\r\n        \r\n\r\n    </div>\r\n    )\r\n}\r\nexport default MyPosts;"]},"metadata":{},"sourceType":"module"}