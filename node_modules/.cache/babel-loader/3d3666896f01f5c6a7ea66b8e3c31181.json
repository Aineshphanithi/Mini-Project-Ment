{"ast":null,"code":"var _jsxFileName = \"E:\\\\Mini Project - Volunteers Part\\\\src\\\\MyPosts.jsx\";\nimport React, { useState, useEffect } from 'react';\nimport { PageHeader } from 'antd';\nimport MyPostsSnippet from './MyPostsSnippet';\nimport _ from 'lodash';\nimport db from '../firebase';\nimport { Menu } from 'antd';\nimport { MailOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\nimport { Router, Link } from \"@reach/router\";\n\nconst MyPosts = props => {\n  const [posts, setPosts] = useState([]);\n  useEffect(() => {\n    let userId = (props === null || props === void 0 ? void 0 : props.user.uid) ? props === null || props === void 0 ? void 0 : props.user.uid : props.uid;\n    db.collection('users').doc(userId).collection('posts').onSnapshot(async posts => {\n      let postsData = await posts.docs.map(post => {\n        let data = post.data();\n        let {\n          id\n        } = post;\n        let payload = {\n          id,\n          ...data\n        };\n        return payload;\n      });\n      setPosts(postsData);\n    });\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"posts_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 29,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"app_main_navigation\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Menu, {\n    mode: \"horizontal\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 16\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"posts\",\n    icon: /*#__PURE__*/React.createElement(MailOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 33,\n        columnNumber: 49\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 20\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/postapp\",\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 22\n    }\n  }, \"Posts\")), props.user && /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"create_post\",\n    icon: /*#__PURE__*/React.createElement(AppstoreOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 60\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: \"/create_post\",\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 24\n    }\n  }, \"Create Posts\")), props.user && /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"Myposts\",\n    icon: /*#__PURE__*/React.createElement(SettingOutlined, {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 55\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 24\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/blogs/${props.user.uid}/posts`,\n    style: {\n      float: 'right'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 26\n    }\n  }, \"My Posts\")))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"page_header_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(PageHeader, {\n    style: {\n      border: '1px solid rgb(235, 237, 240)'\n    },\n    title: \"Posts\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 13\n    }\n  }), \",\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"articles_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 9\n    }\n  }, _.map(posts, (article, idx) => /*#__PURE__*/React.createElement(MyPostsSnippet, {\n    key: idx,\n    id: article.id,\n    title: _.capitalize(article.title),\n    content: article.content.substring(0, 1000),\n    user: props.user,\n    uid: props.uid,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 21\n    }\n  }))));\n};\n\nexport default MyPosts;","map":{"version":3,"sources":["E:/Mini Project - Volunteers Part/src/MyPosts.jsx"],"names":["React","useState","useEffect","PageHeader","MyPostsSnippet","_","db","Menu","MailOutlined","AppstoreOutlined","SettingOutlined","Router","Link","MyPosts","props","posts","setPosts","userId","user","uid","collection","doc","onSnapshot","postsData","docs","map","post","data","id","payload","float","border","article","idx","capitalize","title","content","substring"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,QAAf,EAAwBC,SAAxB,QAAuC,OAAvC;AACA,SAASC,UAAT,QAA2B,MAA3B;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,CAAP,MAAc,QAAd;AACA,OAAOC,EAAP,MAAe,aAAf;AACA,SAASC,IAAT,QAAqB,MAArB;AACA,SAASC,YAAT,EAAuBC,gBAAvB,EAAyCC,eAAzC,QAAgE,mBAAhE;AACA,SAAOC,MAAP,EAAcC,IAAd,QAAyB,eAAzB;;AACA,MAAMC,OAAO,GAAEC,KAAD,IAAS;AACnB,QAAM,CAACC,KAAD,EAAOC,QAAP,IAAiBf,QAAQ,CAAC,EAAD,CAA/B;AACAC,EAAAA,SAAS,CAAC,MAAI;AACV,QAAIe,MAAM,GAAC,CAAAH,KAAK,SAAL,IAAAA,KAAK,WAAL,YAAAA,KAAK,CAAEI,IAAP,CAAYC,GAAZ,IAAkBL,KAAlB,aAAkBA,KAAlB,uBAAkBA,KAAK,CAAEI,IAAP,CAAYC,GAA9B,GAAoCL,KAAK,CAACK,GAArD;AACAb,IAAAA,EAAE,CAACc,UAAH,CAAc,OAAd,EAAuBC,GAAvB,CAA2BJ,MAA3B,EAAmCG,UAAnC,CAA8C,OAA9C,EACKE,UADL,CACgB,MAAMP,KAAN,IAAe;AACvB,UAAIQ,SAAS,GAAE,MAAMR,KAAK,CAACS,IAAN,CAAWC,GAAX,CAAeC,IAAI,IAAI;AACxC,YAAIC,IAAI,GAAGD,IAAI,CAACC,IAAL,EAAX;AACA,YAAI;AAAEC,UAAAA;AAAF,YAAQF,IAAZ;AAEA,YAAIG,OAAO,GAAC;AACRD,UAAAA,EADQ;AAER,aAAGD;AAFK,SAAZ;AAIA,eAAOE,OAAP;AACH,OAToB,CAArB;AAUAb,MAAAA,QAAQ,CAACO,SAAD,CAAR;AACH,KAbL;AAcH,GAhBQ,EAgBP,EAhBO,CAAT;AAiBA,sBACA;AAAK,IAAA,SAAS,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI;AAAK,IAAA,SAAS,EAAC,qBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBAEO,oBAAC,IAAD;AAAM,IAAA,IAAI,EAAC,YAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,GAAG,EAAC,OAAf;AAAuB,IAAA,IAAI,eAAE,oBAAC,YAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,UAAT;AAAoB,IAAA,KAAK,EAAE;AAAEO,MAAAA,KAAK,EAAC;AAAR,KAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aADF,CADJ,EAKOhB,KAAK,CAACI,IAAN,iBACC,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,GAAG,EAAC,aAAf;AAA8B,IAAA,IAAI,eAAE,oBAAC,gBAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACA,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAC,cAAT;AAAwB,IAAA,KAAK,EAAE;AAAEY,MAAAA,KAAK,EAAC;AAAR,KAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADA,CANR,EAWOhB,KAAK,CAACI,IAAN,iBACC,oBAAC,IAAD,CAAM,IAAN;AAAW,IAAA,GAAG,EAAC,SAAf;AAAyB,IAAA,IAAI,eAAE,oBAAC,eAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACE,oBAAC,IAAD;AAAM,IAAA,EAAE,EAAG,UAASJ,KAAK,CAACI,IAAN,CAAWC,GAAI,QAAnC;AAA4C,IAAA,KAAK,EAAE;AAAEW,MAAAA,KAAK,EAAC;AAAR,KAAnD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADF,CAZR,CAFP,CADJ,eA0BI;AAAK,IAAA,SAAS,EAAE,uBAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACI,oBAAC,UAAD;AACI,IAAA,KAAK,EAAE;AACHC,MAAAA,MAAM,EAAE;AADL,KADX;AAII,IAAA,KAAK,EAAC,OAJV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADJ,MA1BJ,eAkCI;AAAK,IAAA,SAAS,EAAC,oBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAEQ1B,CAAC,CAACoB,GAAF,CAAMV,KAAN,EAAY,CAACiB,OAAD,EAASC,GAAT,kBAER,oBAAC,cAAD;AACA,IAAA,GAAG,EAAEA,GADL;AAEA,IAAA,EAAE,EAAED,OAAO,CAACJ,EAFZ;AAGC,IAAA,KAAK,EAAEvB,CAAC,CAAC6B,UAAF,CAAaF,OAAO,CAACG,KAArB,CAHR;AAIA,IAAA,OAAO,EAAIH,OAAO,CAACI,OAAR,CAAgBC,SAAhB,CAA0B,CAA1B,EAA4B,IAA5B,CAJX;AAKA,IAAA,IAAI,EAAEvB,KAAK,CAACI,IALZ;AAMA,IAAA,GAAG,EAAEJ,KAAK,CAACK,GANX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFJ,CAFR,CAlCJ,CADA;AAwDH,CA3ED;;AA4EA,eAAeN,OAAf","sourcesContent":["import React ,{useState,useEffect}from 'react'\nimport { PageHeader } from 'antd';\nimport MyPostsSnippet from './MyPostsSnippet';\nimport _ from 'lodash'\nimport db from '../firebase'\nimport { Menu } from 'antd';\nimport { MailOutlined, AppstoreOutlined, SettingOutlined } from '@ant-design/icons';\nimport{Router,Link} from \"@reach/router\"\nconst MyPosts=(props)=>{\n    const [posts,setPosts]=useState([])\n    useEffect(()=>{\n        let userId=props?.user.uid ? props?.user.uid : props.uid\n        db.collection('users').doc(userId).collection('posts')\n            .onSnapshot(async posts => {\n                let postsData= await posts.docs.map(post => {\n                    let data = post.data()\n                    let { id }= post\n    \n                    let payload={\n                        id,\n                        ...data\n                    } \n                    return payload\n                });\n                setPosts(postsData)\n            })\n    },[])\n    return(\n    <div className=\"posts_container\">\n        <div className=\"app_main_navigation\">\n               \n               <Menu mode=\"horizontal\">\n                   <Menu.Item key=\"posts\" icon={<MailOutlined />}>\n                     <Link to=\"/postapp\" style={{ float:'right'}}>Posts</Link>\n                   </Menu.Item>\n             \n                     {props.user && \n                       <Menu.Item key=\"create_post\"  icon={<AppstoreOutlined />}>\n                       <Link to=\"/create_post\" style={{ float:'right'}}>Create Posts</Link>\n                       </Menu.Item>\n\n                         }\n                     {props.user &&\n                       <Menu.Item key=\"Myposts\" icon={<SettingOutlined />}>\n                         <Link to={`/blogs/${props.user.uid}/posts`} style={{ float:'right'}}>My Posts</Link>\n                       </Menu.Item>\n                       }\n                   \n                   \n               </Menu>   \n\n             \n       \n         </div>\n        <div className =\"page_header_container\">\n            <PageHeader\n                style={{\n                    border: '1px solid rgb(235, 237, 240)',\n                }}\n                title=\"Posts\"\n            />,\n        </div>\n        <div className=\"articles_container\">\n            {\n                _.map(posts,(article,idx)=>(\n\n                    <MyPostsSnippet\n                    key={idx}\n                    id={article.id}\n                     title={_.capitalize(article.title) } \n                    content = {article.content.substring(0,1000)}\n                    user={props.user}\n                    uid={props.uid}\n                    />\n                ))\n                        \n            }\n            \n        </div>\n        \n\n    </div>\n    )\n}\nexport default MyPosts;"]},"metadata":{},"sourceType":"module"}