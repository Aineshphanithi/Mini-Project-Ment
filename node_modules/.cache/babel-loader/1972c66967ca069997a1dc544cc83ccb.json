{"ast":null,"code":"var _jsxFileName = \"E:\\\\Mini Project - Volunteers Part\\\\src\\\\creatComment.js\";\nimport React, { useState, useEffect } from 'react'; //import {Card} from 'antd';\n\nimport { Link } from \"@reach/router\";\nimport db from './firebase';\nimport CommentSnipet from './AddComment';\nimport _ from 'lodash';\n\nconst CreateComment = props => {\n  const [comments, setComment] = useState([]);\n  const [title, setTitle] = useState('');\n  const [content, setContent] = useState('');\n  const [input, setvalue] = useState([]);\n  useEffect(() => {\n    let posts = db.collection('posts').doc(props.id);\n    posts.get().then(function (doc) {\n      if (doc.exists) {\n        console.log(doc.data());\n        let {\n          content,\n          title\n        } = doc.data();\n        setTitle(title);\n        setContent(content);\n      }\n    });\n    posts.collection('comments').get().then(comments => {\n      comments.forEach(comment => {\n        let data = comment.data();\n        let {\n          id\n        } = comment;\n        let payload = {\n          id,\n          ...data\n        };\n        setComment(comments => [...comments, payload]);\n      });\n    });\n  }, []);\n\n  handelChange = e => {\n    e.preventDefault();\n    setvalue(e.target.value);\n  };\n\n  console.log(comments, title, content);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"postSnippet_container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card mx-5 my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    class: \"card-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 17\n    }\n  }, title), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card-body\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    class: \"card-title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, \"Special title treatment\"), /*#__PURE__*/React.createElement(\"p\", {\n    class: \"card-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, content.split('\\n').map((paragraph, idx) => {\n    return /*#__PURE__*/React.createElement(\"p\", {\n      key: idx,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 36\n      }\n    }, paragraph);\n  }))), /*#__PURE__*/React.createElement(\"h5\", {\n    \"mx-5\": true,\n    \"my-1\": true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  }, \"Comments:\"), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"row\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    class: \"btn btn-primary\",\n    onClick: handelComment,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 43\n    }\n  }, \"Add Comment\")), /*#__PURE__*/React.createElement(\"div\", {\n    class: \"col-sm-6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    class: \"form-control\",\n    value: input,\n    onChange: handelChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 43\n    }\n  }))), Object.keys(comments).length > 0 ? _.map(comments, (article, idx) => /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card mx-5 my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 25\n    }\n  }, article.comment)) : /*#__PURE__*/React.createElement(\"div\", {\n    class: \"card mx-5 my-1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }, \"No comments yet\")));\n};\n\nexport default CreateComment;","map":{"version":3,"sources":["E:/Mini Project - Volunteers Part/src/creatComment.js"],"names":["React","useState","useEffect","Link","db","CommentSnipet","_","CreateComment","props","comments","setComment","title","setTitle","content","setContent","input","setvalue","posts","collection","doc","id","get","then","exists","console","log","data","forEach","comment","payload","handelChange","e","preventDefault","target","value","split","map","paragraph","idx","handelComment","Object","keys","length","article"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react'\r\n//import {Card} from 'antd';\r\nimport {Link} from \"@reach/router\"\r\nimport db from './firebase'\r\nimport CommentSnipet from'./AddComment';\r\nimport _ from 'lodash'\r\n\r\nconst CreateComment=(props) => {\r\n    const[comments,setComment]=useState([])\r\n    const [title,setTitle]=useState('')\r\n    const [content,setContent]=useState('')\r\n    const [input,setvalue]=useState([])\r\n    useEffect(()=>{\r\n        let posts=db.collection('posts').doc(props.id)\r\n        posts.get().then(function(doc){\r\n            if(doc.exists){\r\n                console.log(doc.data())\r\n                let {content,title}=doc.data()\r\n                setTitle(title)\r\n                setContent(content)\r\n            }\r\n            \r\n        })\r\n        posts.collection('comments').get().then(comments=>{\r\n            comments.forEach(comment=>{\r\n                let data = comment.data()\r\n                let { id } = comment\r\n                let payload={\r\n                    id,\r\n                    ...data\r\n                }\r\n                setComment((comments)=>[...comments,payload])\r\n            })\r\n        })\r\n    },[])\r\n    handelChange=e=>{\r\n        e.preventDefault();\r\n        setvalue(e.target.value)\r\n    }\r\n    console.log(comments,title,content)\r\n    return (\r\n        <div className=\"postSnippet_container\">\r\n            \r\n            <div class=\"card mx-5 my-3\" >\r\n                <h5 class=\"card-header\">{title}</h5>\r\n                <div class=\"card-body\">\r\n                    <h5 class=\"card-title\">Special title treatment</h5>\r\n\r\n                    <p class=\"card-text\">{\r\n                        content.split('\\n').map((paragraph,idx)=>{\r\n                            return <p key = {idx}>{paragraph}</p>;\r\n                        })\r\n                    }\r\n                    </p>\r\n                    \r\n                </div>\r\n\r\n                <h5 mx-5 my-1>Comments:</h5>\r\n                {/* <Link to={`/add_comment/${props.id}`} style ={{marginRight : '15px', float: 'right'}}>\r\n                        Add Comment\r\n                    </Link>  */}\r\n                \r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-2\"><button type=\"button\" class=\"btn btn-primary\" onClick={handelComment}>Add Comment</button></div>\r\n                    <div class=\"col-sm-6\"><input type=\"text\" class=\"form-control\" value={input} onChange={handelChange}/></div>\r\n                </div>\r\n\r\n                {Object.keys(comments).length >0 ? _.map(comments,(article,idx)=>(\r\n                        <div class=\"card mx-5 my-1\" >{article.comment}</div>\r\n                )):\r\n                <div class=\"card mx-5 my-1\">No comments yet</div> }    \r\n                    \r\n                \r\n            </div>\r\n\r\n        </div>\r\n    )\r\n}\r\nexport default CreateComment;"]},"metadata":{},"sourceType":"module"}